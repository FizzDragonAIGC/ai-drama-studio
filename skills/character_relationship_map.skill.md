# 角色關係圖設計 (Character Relationship Map)

## 概述
專業的角色關係可視化系統，呈現角色間的複雜關係網絡、情感連結、衝突軸線和權力結構。

## 關係類型庫

### 1. 基礎關係類型
| 類型 | 符號 | 顏色 | 說明 |
|------|------|------|------|
| 家族/血緣 | ─── | 棕色 | 父母、兄弟、血親 |
| 愛情/婚姻 | ♥── | 紅色 | 戀人、配偶、暗戀 |
| 友情/盟友 | ≈── | 藍色 | 朋友、戰友、同伴 |
| 敵對/競爭 | ✕── | 黑色 | 對手、仇人、競爭者 |
| 上下級 | ↑── | 灰色 | 主僕、師徒、上下級 |
| 暗線/隱藏 | ┅── | 紫色 | 秘密關係、未揭露 |

### 2. 關係強度
- **████** 核心關係（影響主線）
- **███░** 重要關係（影響支線）
- **██░░** 一般關係（背景設定）
- **█░░░** 淺層關係（單場戲）

### 3. 關係變化追蹤
```
E01-E03: 陌生人 → 同事
E04-E06: 同事 → 朋友
E07-E08: 朋友 → 暗生情愫
E09-E10: 互相表白 → 戀人
```

## 視覺化模板

### 核心三角結構
```
        [主角]
       /     \
    愛情     友情
     /         \
[女主角]─敵對─[反派]
```

### 群像關係網
```
     [角色A]
    ↗    ↘
[角色B]─╳─[角色C]
    ↘    ↗
     [角色D]
```

## 輸出JSON格式
```json
{
  "characters": [
    {
      "id": "char_001",
      "name": "主角",
      "role": "protagonist",
      "group": "主角陣營",
      "position": {"x": 50, "y": 30}
    }
  ],
  "relationships": [
    {
      "from": "char_001",
      "to": "char_002",
      "type": "love",
      "strength": 4,
      "label": "青梅竹馬",
      "evolution": [
        {"episode": 1, "status": "好友"},
        {"episode": 5, "status": "暗戀"},
        {"episode": 10, "status": "戀人"}
      ],
      "keyScenes": ["E03 雨中送傘", "E07 誤會分離", "E10 機場重逢"]
    }
  ],
  "conflicts": [
    {
      "parties": ["char_001", "char_003"],
      "nature": "理念衝突",
      "rootCause": "對正義的不同理解",
      "resolution": "E10 達成和解"
    }
  ],
  "groups": [
    {
      "name": "主角陣營",
      "members": ["char_001", "char_002", "char_004"],
      "color": "#4CAF50"
    },
    {
      "name": "反派陣營",
      "members": ["char_003", "char_005"],
      "color": "#f44336"
    }
  ]
}
```

## 專業分析維度
1. **權力結構** - 誰控制誰、資源分配
2. **情感網絡** - 愛恨情仇、信任背叛
3. **信息不對稱** - 誰知道什麼秘密
4. **衝突軸線** - 主要矛盾、潛在爆發點
5. **動態變化** - 關係隨劇情的演變
