# 🎙️ AI声音克隆（Voice Clone）Skill
> 来源：ElevenLabs/XTTS/RVC技术实践

---

## 📐 声音克隆概念

| 概念 | 说明 |
|------|------|
| 定义 | 复制特定人声特征 |
| 输入 | 目标声音样本 |
| 输出 | 任意文本的目标声音 |
| 应用 | 角色配音、旁白 |

---

## 🎯 主流工具对比

| 工具 | 类型 | 质量 | 样本需求 |
|------|------|------|----------|
| ElevenLabs | 商业 | 顶级 | 1分钟+ |
| XTTS | 开源 | 高 | 6秒+ |
| RVC | 开源 | 高 | 10分钟+ |
| Coqui TTS | 开源 | 中高 | 数分钟 |
| Resemble AI | 商业 | 高 | 3分钟+ |

---

## 🎬 ElevenLabs使用

### 即时克隆
```
1. 上传声音样本（1-5分钟）
2. 样本要求：清晰、无背景噪音
3. 选择克隆声音
4. 输入文本生成
```

### 专业克隆
```
需要更多样本（10分钟+）
更高质量和稳定性
适合长期使用的角色
```

### API调用
```python
from elevenlabs import clone, generate

voice = clone(
    name="角色名",
    files=["sample1.mp3", "sample2.mp3"]
)

audio = generate(
    text="台词内容",
    voice=voice
)
```

---

## 📋 XTTS使用（开源）

### 安装
```bash
pip install TTS
```

### 基本使用
```python
from TTS.api import TTS

tts = TTS("tts_models/multilingual/multi-dataset/xtts_v2")

tts.tts_to_file(
    text="要说的台词",
    speaker_wav="reference_voice.wav",
    language="zh-cn",  # 支持中文
    file_path="output.wav"
)
```

### 参数优化
| 参数 | 作用 | 建议 |
|------|------|------|
| temperature | 变化程度 | 0.6-0.8 |
| top_k | 采样范围 | 50 |
| top_p | 核采样 | 0.85 |
| repetition_penalty | 重复惩罚 | 5.0 |

---

## 🔧 RVC使用

### 适用场景
```
- 歌声转换
- 高质量角色声
- 需要大量样本时
```

### 训练流程
```
1. 收集10-30分钟纯净人声
2. 预处理切片
3. 提取音高特征
4. 训练模型
5. 推理转换
```

### 训练参数
| 参数 | 新手建议 | 说明 |
|------|----------|------|
| epochs | 100-300 | 训练轮数 |
| batch_size | 4-8 | 批次大小 |
| sample_rate | 40000 | 采样率 |

---

## 🎨 番剧配音工作流

### 1. 声音设计
```
【角色声音规划】
- 主角：清亮少年音
- 配角A：沉稳成熟音
- 配角B：活泼可爱音
- 旁白：浑厚磁性
```

### 2. 样本准备
```
【理想样本】
- 时长：1-5分钟（快速克隆）
- 质量：无噪音、无混响
- 内容：包含多种情绪和语调
- 格式：WAV/MP3，44.1kHz+
```

### 3. 克隆与生成
```
1. 上传/提供样本
2. 测试简短台词
3. 调整参数
4. 批量生成台词
```

### 4. 后期处理
```
- 调整节奏
- 添加情绪变化
- 混音处理
- 与画面同步
```

---

## ⚡ 样本优化技巧

### 录制建议
```
【环境】
- 安静无回声
- 使用降噪麦克风
- 距离麦克风15-20cm

【内容】
- 朗读多样化文本
- 包含各种情绪
- 语速适中
- 避免口误
```

### 样本处理
```
1. 降噪（Audacity/Adobe Audition）
2. 去除静音段
3. 规范化音量
4. 切除口误/杂音
```

---

## 📋 多语言支持

### XTTS语言
```
支持语言：
en, zh-cn, ja, ko, de, fr, es, it, pt, ...

中日文番剧可直接使用
```

### 跨语言克隆
```
用英文样本生成中文
用中文样本生成日文
效果可能略有下降
```

---

## ⚠️ 伦理与法律

### 使用原则
```
✅ 允许
- 自己的声音
- 授权的虚构角色
- 教育和艺术用途
- 明确标注AI生成

❌ 禁止
- 未经授权克隆他人
- 冒充/欺诈
- 恶意deepfake
- 侵犯版权
```

### 平台政策
```
各平台有不同规定
商业使用需确认授权
保留原始样本授权证明
```

---

## 💡 高级技巧

### 情感控制
```
ElevenLabs风格控制：
- Stability：稳定性
- Similarity Boost：相似度
- Style：风格强度

调整这些参数控制情感表达
```

### 批量生成
```python
# 批量生成台词
dialogues = [
    "台词1",
    "台词2",
    ...
]

for i, text in enumerate(dialogues):
    generate(text, voice=voice, 
             output=f"line_{i}.wav")
```

---

## ⚠️ 常见问题

| 问题 | 解决 |
|------|------|
| 声音不像 | 增加样本量/质量 |
| 发音错误 | 使用音标标注 |
| 语调不自然 | 调整参数/分段生成 |
| 杂音 | 改善样本质量 |

---

*Skill版本: 1.0*
*适用: ElevenLabs/XTTS/RVC*
*创建时间: 2026-02-14*
