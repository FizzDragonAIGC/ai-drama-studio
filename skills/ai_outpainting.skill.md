# 🖼️ 画面扩展（Outpainting）Skill
> 来源：AI图像扩展技术实践

---

## 📐 Outpainting概念

| 概念 | 说明 |
|------|------|
| 定义 | 向外扩展图像边界 |
| 原理 | AI预测并生成边界外内容 |
| 应用 | 改变构图、增加画幅 |

---

## 🎯 应用场景

| 场景 | 用途 |
|------|------|
| 宽高比转换 | 1:1 → 16:9 |
| 构图调整 | 增加空间感 |
| 背景扩展 | 扩大场景范围 |
| 修复裁切 | 恢复被切掉的内容 |

---

## 🎬 实现方法

### 方法一：WebUI Outpaint
```
1. 加载原图到img2img
2. 选择Script: Outpainting
3. 设置扩展方向和距离
4. 调整Denoising和提示词
5. 生成
```

### 方法二：Poor Man's Outpainting
```
1. 扩大画布尺寸
2. 用纯色或渐变填充新区域
3. 用Inpaint重绘新区域
4. 重复直到覆盖所有新区域
```

### 方法三：专用工具
| 工具 | 特点 |
|------|------|
| DALL-E | 一键扩展，简单 |
| Leonardo Canvas | 拖拽式操作 |
| Photoshop Generative Fill | 专业集成 |

---

## 📋 参数设置

### 扩展设置
| 参数 | 建议值 | 说明 |
|------|--------|------|
| 扩展像素 | 128-512 | 每次扩展量 |
| 遮罩重叠 | 32-64 | 与原图重叠 |
| Denoising | 0.8-1.0 | 新区域强度 |
| Mask Blur | 8-16 | 边缘融合 |

### 分步扩展策略
```
大面积扩展分多次：
原图 → +256px → +256px → +256px
比一次性扩展效果更好
```

---

## 🔧 番剧制作应用

### 调整画幅
```
【场景】正方形角色图 → 横版背景

【步骤】
1. 左右各扩展50%
2. 提示词描述场景背景
3. 保持角色位置
4. 融合边缘
```

### 增加天空/地面
```
【场景】角色图缺少环境

【步骤】
1. 上方扩展（天空）
2. 提示词：sky, clouds, matching lighting
3. 下方扩展（地面）
4. 提示词：floor, ground, perspective
```

### 创建全景
```
【场景】场景概念图需要宽视角

【步骤】
1. 确定中心区域
2. 左右交替扩展
3. 保持透视一致
4. 统一光线方向
```

---

## 🎨 提示词策略

### 边缘描述
```
扩展提示词应与原图一致：
[原图风格词] + [扩展区域内容] + [光线方向]

示例：
anime style background, forest extending 
to the left, soft daylight from right,
consistent art style
```

### 常用补充词
```
seamless, consistent style,
matching colors, same lighting,
cohesive composition
```

---

## ⚡ 质量优化

### 常见问题与解决
| 问题 | 解决方案 |
|------|----------|
| 接缝明显 | 增加重叠区域 |
| 透视错误 | 添加透视参考线 |
| 风格不一致 | 保持模型和参数相同 |
| 内容不连贯 | 分小步扩展 |

### 后处理建议
```
1. 检查接缝区域
2. 用Inpaint修复问题
3. 统一整体色调
4. 最后做一次整体img2img（低强度）
```

---

## 💡 高级技巧

### ControlNet辅助
```
使用Depth或Edge保持结构一致：
1. 原图生成控制图
2. 手动扩展控制图
3. 用扩展的控制图引导生成
```

### 参考区域法
```
将原图关键区域复制到扩展区
帮助AI理解风格和内容
生成后再inpaint掉重复部分
```

### Tiled处理
```
超大画幅处理：
1. 分区块生成
2. 重叠区域融合
3. 最终统一后处理
```

---

## 📋 快速检查清单

| 检查项 | ✓ |
|--------|---|
| 接缝自然融合 | □ |
| 透视正确延续 | □ |
| 光线方向一致 | □ |
| 风格保持统一 | □ |
| 内容逻辑合理 | □ |

---

*Skill版本: 1.0*
*适用: 各AI绘画平台*
*创建时间: 2026-02-14*
