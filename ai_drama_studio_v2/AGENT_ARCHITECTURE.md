# AI番剧制作系统 - 智能体架构

## 🎯 核心目标
**输入**：IP原著/故事大纲
**输出**：AI生图Prompt（可直接喂给MJ/SD/Flux/Runway/Kling）

---

## 📊 架构总览

```
┌─────────────────────────────────────────────────────────────────┐
│                        🎬 总导演 (A00)                           │
│                    调度所有智能体，整体把控                        │
└─────────────────────────────────────────────────────────────────┘
                                │
        ┌───────────────────────┼───────────────────────┐
        ▼                       ▼                       ▼
┌───────────────┐      ┌───────────────┐      ┌───────────────┐
│  📖 故事组     │      │  🎨 美术组     │      │  🎥 镜头组     │
│  (A01-A06)    │      │  (A07-A11)    │      │  (A12-A16)    │
└───────────────┘      └───────────────┘      └───────────────┘
        │                       │                       │
        └───────────────────────┼───────────────────────┘
                                ▼
                    ┌───────────────────┐
                    │  🤖 Prompt组       │
                    │  (A17-A20)        │
                    └───────────────────┘
                                │
                                ▼
                    ┌───────────────────┐
                    │  📤 最终输出       │
                    │  AI生图Prompt     │
                    └───────────────────┘
```

---

## 🧑‍💼 20个智能体详细设计

### 📖 第一组：故事与剧本 (6个)

| ID | 智能体名称 | 职责 | 输入 | 输出 |
|----|-----------|------|------|------|
| A01 | 故事架构师 | 整体故事结构、三幕/五幕、节拍设计 | 原著/大纲 | 故事结构表 |
| A02 | 角色设计师 | 人物小传、心理画像、人物弧光 | 故事结构 | 角色档案 |
| A03 | 世界观设计师 | 时代背景、社会规则、视觉世界观 | 故事结构 | 世界观设定集 |
| A04 | 编剧 | 场景拆分、动作描写、情境设计 | 结构+角色+世界观 | 分场剧本 |
| A05 | 对白专家 | 对话润色、潜台词、人物语言特征 | 分场剧本 | 对白定稿 |
| A06 | 情感设计师 | 情绪曲线、观众心理、钩子设计 | 完整剧本 | 情绪节拍表 |

### 🎨 第二组：视觉与美术 (5个)

| ID | 智能体名称 | 职责 | 输入 | 输出 |
|----|-----------|------|------|------|
| A07 | 美术总监 | 整体视觉风格、美学基调 | 世界观+情绪 | 视觉风格指南 |
| A08 | 角色画师 | 角色外形、表情库、服装设计 | 角色档案+风格 | 角色设计稿Prompt |
| A09 | 场景画师 | 环境设计、空间布局、光影氛围 | 世界观+风格 | 场景设计稿Prompt |
| A10 | 色彩设计师 | 配色方案、情绪色彩、场景色调 | 情绪表+风格 | 色彩脚本 |
| A11 | 道具服装师 | 关键道具、服装细节、时代考据 | 世界观+角色 | 道具服装表 |

### 🎥 第三组：镜头与分镜 (5个)

| ID | 智能体名称 | 职责 | 输入 | 输出 |
|----|-----------|------|------|------|
| A12 | 导演 | 镜头语言、场面调度、视觉叙事 | 剧本+视觉风格 | 导演阐述 |
| A13 | 分镜师 | 镜头设计、构图、机位 | 导演阐述+剧本 | 分镜草图描述 |
| A14 | 漫画分镜师 | 条漫/页漫布局、视线流、格子设计 | 分镜草图 | 漫画式分镜 |
| A15 | 剪辑节奏师 | 镜头时长、转场、节奏控制 | 分镜+情绪表 | 时间轴节奏表 |
| A16 | 动态设计师 | 运动轨迹、动作设计、特效指示 | 分镜+动作描写 | 动态指示表 |

### 🤖 第四组：Prompt与输出 (4个)

| ID | 智能体名称 | 职责 | 输入 | 输出 |
|----|-----------|------|------|------|
| A17 | Prompt工程师 | 将视觉描述转为AI生图Prompt | 所有视觉资料 | **最终Prompt** |
| A18 | 连续性检查员 | 角色一致性、场景连贯性、穿帮检查 | 所有Prompt | 修正建议 |
| A19 | 音乐设计师 | 配乐建议、音效指示、情绪音乐 | 情绪表+分镜 | 音乐脚本 |
| A20 | 制作统筹 | 进度管理、资源调度、最终审核 | 全部产出 | 制作包 |

---

## 📚 书籍 → Skill → 智能体 映射表

### 🔥 核心书籍（必备）

| 书籍 | Skill名称 | 核心知识点 | 调用智能体 |
|------|-----------|-----------|-----------|
| 《故事》麦基 | `story_mcgee.skill` | 故事原理、场景设计、价值转换 | A01, A04, A06 |
| 《救猫咪》布莱克·斯奈德 | `save_the_cat.skill` | 15节拍公式、类型片结构 | A01, A06 |
| 《千面英雄》坎贝尔 | `heros_journey.skill` | 英雄之旅12阶段、原型理论 | A01, A02 |
| 《对白》麦基 | `dialogue.skill` | 对白技巧、潜台词、人物声音 | A05 |
| 《角色与视角》奥森·斯科特·卡德 | `character_pov.skill` | 人物塑造、视角选择 | A02, A04 |

### 🎨 视觉美术类

| 书籍 | Skill名称 | 核心知识点 | 调用智能体 |
|------|-----------|-----------|-----------|
| 《美的历程》李泽厚 | `chinese_aesthetics.skill` | 中国美学流变、时代美感 | A07, A09 |
| 《侘寂之美》 | `wabi_sabi.skill` | 东方美学、残缺美、留白 | A07, A10 |
| 《色彩与光线》詹姆斯·格尔尼 | `color_light.skill` | 色彩原理、光影、氛围 | A10, A09 |
| 《艺术的故事》贡布里希 | `art_history.skill` | 艺术史、风格演变 | A07 |
| 《服装设计入门》 | `costume_design.skill` | 服装设计、时代服饰 | A11 |

### 🎥 镜头导演类

| 书籍 | Skill名称 | 核心知识点 | 调用智能体 |
|------|-----------|-----------|-----------|
| 《电影镜头设计》史蒂文·卡茨 | `shot_design.skill` | 镜头语言、构图、机位 | A12, A13 |
| 《导演的功课》大卫·马梅 | `directing.skill` | 导演方法、场面调度 | A12 |
| 《眨眼之间》沃尔特·默奇 | `editing.skill` | 剪辑六法则、节奏控制 | A15 |
| 《电影语言的语法》 | `film_grammar.skill` | 视觉语法、蒙太奇 | A12, A13 |
| 《灯光师入门》 | `lighting.skill` | 布光技巧、光影情绪 | A09, A13 |

### 📖 漫画专用类

| 书籍 | Skill名称 | 核心知识点 | 调用智能体 |
|------|-----------|-----------|-----------|
| 《理解漫画》斯科特·麦克劳德 | `understanding_comics.skill` | 漫画原理、时间表现、图文关系 | A14 |
| 《漫画分镜教室》 | `manga_storyboard.skill` | 日漫分镜、视线流、格子设计 | A14 |
| 《韩漫创作指南》 | `webtoon.skill` | 条漫设计、滚动叙事、钩子 | A14 |
| 《漫符设计》 | `manga_symbols.skill` | 效果线、拟声词、情绪符号 | A14, A16 |

### 🤖 AI Prompt类

| 资料来源 | Skill名称 | 核心知识点 | 调用智能体 |
|---------|-----------|-----------|-----------|
| Midjourney官方文档 | `mj_prompt.skill` | MJ参数、风格词、结构 | A17 |
| Stable Diffusion社区 | `sd_prompt.skill` | SD权重、LoRA、ControlNet | A17 |
| Flux/Ideogram文档 | `flux_prompt.skill` | Flux语法、文字生成 | A17 |
| Runway/Kling文档 | `video_prompt.skill` | 视频生成、运动控制 | A17, A16 |
| ComfyUI工作流 | `comfyui.skill` | 工作流设计、批量生成 | A17, A18 |

### 🎭 表演与细节类

| 书籍 | Skill名称 | 核心知识点 | 调用智能体 |
|------|-----------|-----------|-----------|
| 《演员的自我修养》斯坦尼 | `acting.skill` | 表演方法、情感真实 | A02, A08 |
| 《微表情心理学》 | `microexpression.skill` | 面部表情、肢体语言 | A08, A16 |
| 《声音设计》 | `sound_design.skill` | 音效、配乐、声音叙事 | A19 |

---

## 🔄 工作流程

```
输入: 《小王子》原著
        │
        ▼
┌─────────────────────────────────────────────────────────────┐
│ 阶段1: 故事开发 (A01-A06)                                    │
│                                                             │
│ A01故事架构师 ──→ A02角色设计 ──→ A03世界观                   │
│      │              │              │                        │
│      └──────────────┴──────────────┘                        │
│                     │                                       │
│                     ▼                                       │
│              A04编剧 ──→ A05对白 ──→ A06情感设计              │
└─────────────────────────────────────────────────────────────┘
        │
        ▼ 输出: 完整剧本 + 角色档案 + 世界观 + 情绪表
        │
┌─────────────────────────────────────────────────────────────┐
│ 阶段2: 视觉开发 (A07-A11)                                    │
│                                                             │
│ A07美术总监 ──→ 确定视觉风格                                  │
│      │                                                      │
│      ├──→ A08角色画师 ──→ 角色Prompt                         │
│      ├──→ A09场景画师 ──→ 场景Prompt                         │
│      ├──→ A10色彩设计 ──→ 色彩脚本                           │
│      └──→ A11道具服装 ──→ 道具表                             │
└─────────────────────────────────────────────────────────────┘
        │
        ▼ 输出: 视觉风格指南 + 角色/场景设计稿
        │
┌─────────────────────────────────────────────────────────────┐
│ 阶段3: 分镜制作 (A12-A16)                                    │
│                                                             │
│ A12导演 ──→ A13分镜师 ──→ A14漫画分镜                        │
│                │              │                             │
│                ▼              ▼                             │
│           A15剪辑节奏    A16动态设计                          │
└─────────────────────────────────────────────────────────────┘
        │
        ▼ 输出: 分镜表 + 时间轴 + 动态指示
        │
┌─────────────────────────────────────────────────────────────┐
│ 阶段4: Prompt输出 (A17-A20)                                  │
│                                                             │
│ A17 Prompt工程师                                            │
│   ├── 角色Prompt (MJ/Flux)                                  │
│   ├── 场景Prompt (MJ/SD)                                    │
│   ├── 分镜Prompt (按镜头)                                    │
│   └── 视频Prompt (Runway/Kling)                             │
│                     │                                       │
│                     ▼                                       │
│ A18连续性检查 ──→ 一致性修正                                  │
│ A19音乐设计 ──→ 配乐建议                                     │
│ A20制作统筹 ──→ 最终审核打包                                  │
└─────────────────────────────────────────────────────────────┘
        │
        ▼
最终输出: 
├── 📄 分镜Prompt表 (Excel)
│     - Shot ID
│     - 镜头类型
│     - 角色
│     - 场景
│     - 动作/情绪
│     - AI Prompt (MJ/SD/Flux)
│     - 视频Prompt (Runway/Kling)
│     - 时长
│     - 配乐建议
│
├── 📁 角色参考图Prompt
├── 📁 场景参考图Prompt
└── 📋 制作SOP
```

---

## 📖 Skill调用关系图

```
                    ┌────────────────────────────────────┐
                    │         📚 书籍/知识源              │
                    └────────────────────────────────────┘
                                    │
                                    ▼ 转化
                    ┌────────────────────────────────────┐
                    │           🔧 Skills                │
                    └────────────────────────────────────┘
                                    │
            ┌───────────┬───────────┼───────────┬───────────┐
            ▼           ▼           ▼           ▼           ▼
     ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
     │story_    │ │character_│ │shot_     │ │manga_    │ │prompt_   │
     │mcgee     │ │design    │ │design    │ │panels    │ │engineer  │
     └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘
          │           │           │           │           │
          ▼           ▼           ▼           ▼           ▼
     ┌──────────────────────────────────────────────────────────┐
     │                    🧑‍💼 智能体群                          │
     │                                                          │
     │  A01 ←── story_mcgee, save_the_cat, heros_journey       │
     │  A02 ←── character_design, heros_journey, acting        │
     │  A07 ←── chinese_aesthetics, wabi_sabi, art_history     │
     │  A13 ←── shot_design, film_grammar                      │
     │  A14 ←── understanding_comics, manga_storyboard         │
     │  A17 ←── mj_prompt, sd_prompt, flux_prompt              │
     │                                                          │
     └──────────────────────────────────────────────────────────┘
```

---

## 📋 每个Skill的详细内容

### story_mcgee.skill (故事原理)
```yaml
来源: 《故事》罗伯特·麦基
核心模块:
  - 故事三角（原型/反结构/极简）
  - 场景设计五要素（欲望/力量/冲突/转折/结局）
  - 价值正负转换
  - 激励事件与危机设计
  - 高潮与真相揭示
调用者: A01故事架构师, A04编剧, A06情感设计师
```

### shot_design.skill (镜头设计)
```yaml
来源: 《电影镜头设计》史蒂文·卡茨
核心模块:
  - 景别系统（远/全/中/近/特）
  - 镜头运动（推/拉/摇/移/跟/升降）
  - 构图法则（三分/黄金/对角/框架）
  - 机位设计（主观/客观/过肩/POV）
  - 镜头组接逻辑
调用者: A12导演, A13分镜师
输出格式: 镜头描述 → AI Prompt映射
```

### mj_prompt.skill (Midjourney Prompt)
```yaml
来源: MJ官方文档 + 社区最佳实践
核心模块:
  - Prompt结构: [主体] [环境] [风格] [参数]
  - 风格词库: cinematic, anime, watercolor...
  - 参数详解: --ar --v --s --c --q
  - 角色一致性: --cref --sref
  - 负面提示词: --no
调用者: A17 Prompt工程师
输出格式: 可直接使用的MJ Prompt
```

---

## ✅ 已完成的Skills (11个)

| # | Skill | 状态 | 覆盖智能体 |
|---|-------|------|-----------|
| 1 | screenwriting_mcgee_story.skill | ✅ | A01, A04, A06 |
| 2 | screenwriting_save_the_cat.skill | ✅ | A01, A06 |
| 3 | story_heros_journey.skill | ✅ | A01, A02 |
| 4 | cinematography_shots.skill | ✅ | A12, A13 |
| 5 | editing_rhythm.skill | ✅ | A15 |
| 6 | color_emotion.skill | ✅ | A10 |
| 7 | ai_prompt_engineering.skill | ✅ | A17 |
| 8 | acting_microexpression.skill | ✅ | A08, A16 |
| 9 | manga_panel_design.skill | ✅ | A14 |
| 10 | webtoon_design.skill | ✅ | A14 |
| 11 | manga_visual_effects.skill | ✅ | A14, A16 |

## ❌ 待补充的Skills (14个)

| # | Skill | 需要书籍 | 覆盖智能体 | 优先级 |
|---|-------|---------|-----------|--------|
| 1 | dialogue.skill | 《对白》麦基 | A05 | 🔴高 |
| 2 | character_design.skill | 《角色与视角》 | A02, A04 | 🔴高 |
| 3 | chinese_aesthetics.skill | 《美的历程》李泽厚 | A07, A09 | 🔴高 |
| 4 | directing.skill | 《导演的功课》马梅 | A12 | 🔴高 |
| 5 | wabi_sabi.skill | 《侘寂之美》 | A07, A10 | 🟡中 |
| 6 | color_light.skill | 《色彩与光线》格尔尼 | A09, A10 | 🟡中 |
| 7 | art_history.skill | 《艺术的故事》 | A07 | 🟡中 |
| 8 | costume_design.skill | 服装设计资料 | A11 | 🟡中 |
| 9 | film_grammar.skill | 《电影语言的语法》 | A12, A13 | 🟡中 |
| 10 | lighting.skill | 灯光设计资料 | A09, A13 | 🟡中 |
| 11 | understanding_comics.skill | 《理解漫画》麦克劳德 | A14 | 🟡中 |
| 12 | sound_design.skill | 《声音设计》 | A19 | 🟢低 |
| 13 | acting.skill | 《演员的自我修养》 | A02, A08 | 🟢低 |
| 14 | video_prompt.skill | Runway/Kling文档 | A16, A17 | 🟢低 |

---

## 🚀 下一步行动

1. **收集高优先级书籍**
   - 《对白》麦基
   - 《美的历程》李泽厚
   - 《导演的功课》大卫·马梅

2. **用现有11个Skills试跑一集**
   - 选择《小王子》或其他公版IP
   - 走完完整流程
   - 发现缺失环节

3. **迭代补充Skills**
   - 根据实际制作中的痛点补充

---

*最后更新: 2026-02-14*
