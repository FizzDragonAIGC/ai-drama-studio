# 🎬 AI番剧制作系统 v2.0

## 项目简介

AI驱动的番剧/动画制作辅助系统，将小说/故事自动转换为完整的分镜表。

---

## 🏢 系统架构：部门制

### 6大部门

| 部门 | 图标 | 负责内容 | 输出 |
|------|------|---------|------|
| 总导演 | 🎬 | 风格统筹、章节划分 | 全局章节规划 |
| 编剧部 | 📝 | 剧本、对白、情绪设计 | 情绪节拍表（每5-10秒一个） |
| 美术部 | 🎨 | 服化道、场景、考据 | 人物设定表、场景设定 |
| 导演部 | 🎥 | 分镜+摄影+灯光+调色+表演 | 每镜头综合方案 |
| 音乐部 | 🎵 | 主旋律+副旋律+环境音 | 三轨配乐方案 |
| 考据部 | 📜 | 历史顾问、时代背景 | 禁忌清单、参考资料 |

### 部门内部结构

```
🎥 导演部
├── 📐 分镜：景别、运镜、构图、角度
├── 📷 摄影：光圈、焦段、景深、机位
├── 💡 灯光：主光、补光、轮廓光、比例
├── 🌈 调色：色温、饱和度、对比、LUT
└── 🎭 表演：表情、肢体、节奏指导

🎨 美术部
├── 👗 服装：日常、正装、配色
├── 💄 化妆：妆容、发型
├── 🔧 道具：关键道具、背景道具
└── 🏛️ 场景：场景设计、布景

🎵 音乐部
├── 🎼 主旋律：核心旋律、乐器、动态
├── 🎵 副旋律：和声、对位
└── 🌊 环境音：氛围、音效
```

---

## 📖 长剧本处理流程

```
┌─────────────────────────────────────────┐
│  第一层：全局概览                        │
│  输入 1-2万字 → 分成 N 集/章            │
│  每章只显示：标题、时长、核心看点        │
│  ✅ 用户确认章节划分                     │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│  第二层：选择某一集展开                  │
│  用户点击「第3集」→ 展开详细设计         │
│  • 编剧部：情绪节拍（60-80个镜头）       │
│  • 美术部：人物/场景设定                 │
│  • 导演部：分镜方案                      │
│  • 音乐部：配乐方案                      │
│  ✅ 用户确认这一集                       │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│  第三层：导出                            │
│  Excel / JSON / Prompt                   │
│  然后返回选择下一集继续                  │
└─────────────────────────────────────────┘
```

---

## 🎭 情绪节拍系统

### 核心理念
> **情绪转折点 = 分镜的最小单位**
> 每5-10秒一个情绪钩子，让观众被情绪拉着走

### 三层分镜分类

| 层级 | 占比 | 作用 | 示例 |
|------|------|------|------|
| 📖 叙事 | 50-60% | 讲清故事、交代信息 | 建立镜头、对话镜头 |
| 🎯 戏剧 | 25-30% | 强化冲突、推动主线 | 反应镜头、高潮镜头 |
| 🎨 情绪 | 15-20% | 艺术表达、营造氛围 | 空镜、情绪特写 |

### 情绪强度 → 参数映射

| 强度 | 分镜 | 摄影 | 灯光 | 配乐 |
|-----|------|------|------|------|
| 1-3 | 全景/固定 | 深景深 f/5.6 | 柔光 | 留白 |
| 4-6 | 中景/轻移 | 正常 f/4 | 自然光 | 背景音 |
| 7-8 | 近景/跟拍 | 浅景深 f/2.8 | 侧光 | 旋律明显 |
| 9-10 | 特写/推近 | 极浅 f/1.4 | 眼神光 | 情绪高潮 |

---

## 🎵 音乐系统

### 三轨并行

| 轨道 | 内容 | 输出字段 |
|------|------|---------|
| 🎼 主旋律 | 核心旋律 | 乐器、音量、动态、Prompt |
| 🎵 副旋律 | 和声/对位 | 乐器、动态 |
| 🌊 环境音 | 氛围铺底 | 类型、Prompt |

### 动态标记

| 符号 | 含义 | 使用场景 |
|------|------|---------|
| 🔺 | 渐强进入 (cresc.) | 情绪升高 |
| 🔻 | 渐弱过渡 (dim.) | 情绪回落 |
| ⚡ | 突强切入 (sfz) | 突然高潮 |
| 🔇 | 突然静默 (tacet) | 制造张力 |
| ➡️ | 平滑衔接 (legato) | 正常过渡 |

---

## 📊 Excel输出字段（55+列）

### 基础信息
- 镜号、时间、秒数、层级、情绪、强度、内容描述

### 分镜师（4列）
- 景别、运镜、构图、角度

### 美术（4列）
- 服装、道具、场景设计、色板

### 摄影（4列）
- 光圈、焦段、景深、胶片

### 灯光（4列）
- 主光、补光、轮廓光、灯光比例

### 调色（4列）
- 色温、饱和度、对比度、LUT

### 表演（4列）
- 表情、肢体语言、表演节奏、潜台词

### 配乐（16列）
- 主旋律：乐器、音量、动态、Prompt
- 副旋律：乐器、音量、动态、Prompt
- 环境音：类型、Prompt
- 整体：速度、BPM、调式、过渡

### 音效（4列）
- 环境音、拟音、音效、重点

### 导演（4列）
- 意图、节奏、重点、笔记

### Prompt
- 图像Prompt

---

## 🚀 部署方式

```bash
# 1. 启动本地服务器
cd /path/to/ai_drama_studio_v2
python3 -m http.server 8080 &

# 2. 创建公网隧道
ssh -R 80:localhost:8080 nokey@localhost.run

# 3. 获得链接如 https://xxx.lhr.life
```

---

## 📁 文件结构

```
ai_drama_studio_v2/
├── index.html      # 主页面
├── styles.css      # 样式
├── app.js          # 逻辑
└── README.md       # 本文件
```

---

## 🔧 后续优化方向

1. **接入真实AI API** - 目前是规则模拟，可接Claude/GPT
2. **人物自动识别** - 从故事中提取人物名字
3. **更多导演风格** - 扩展风格库
4. **批量导出** - 一次导出所有集
5. **预览图生成** - 接入Midjourney/DALL-E

---

## 📝 设计者

卓卓 | 2026年2月
